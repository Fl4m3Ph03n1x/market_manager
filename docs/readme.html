<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.27.3">
    <meta name="project" content="Market Manager v1.2.0">

    <title>README — Market Manager v1.2.0</title>
    <link rel="stylesheet" href="dist/elixir-784c12ef29cae13371ff.css" />

    <script src="dist/sidebar_items-d47ddd5930.js"></script>

      <script src="docs_config.js"></script>

    <script async src="dist/app-38f5da25bdde1981e2f0.js"></script>


  </head>
  <body data-type="extras">
    <script>

      try {
        if (localStorage.getItem('night-mode') === 'true') {
          document.body.classList.add('night-mode');
        }
      } catch (error) { }
    </script>

<div class="main">

<button class="sidebar-button sidebar-toggle">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<section class="sidebar">
  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button" aria-label="Submit Search">
      <i class="ri-search-2-line" aria-hidden="true" title="Submit search"></i>
    </button>
    <button type="button" tabindex="-1" class="search-close-button" aria-label="Cancel Search">
      <i class="ri-close-line ri-lg" aria-hidden="true" title="Cancel search"></i>
    </button>
    <label class="search-label">
      <input name="q" type="text" class="search-input" placeholder="Search..." aria-label="Input your search terms" autocomplete="off" />
    </label>
  </form>

  <div class="autocomplete">
    <div class="autocomplete-results">
    </div>
  </div>

  <div class="sidebar-header">

      <a href="https://fl4m3ph03n1x.github.io/market_manager/">
        <img src="assets/logo.png" alt="Market Manager" class="sidebar-projectImage">
      </a>

    <div class="sidebar-projectDetails">
      <a href="https://fl4m3ph03n1x.github.io/market_manager/" class="sidebar-projectName" translate="no">
Market Manager
      </a>
      <strong class="sidebar-projectVersion" translate="no">
        v1.2.0
      </strong>
    </div>
    <ul class="sidebar-listNav">
      <li><a id="extras-list-link" href="#full-list">Pages</a></li>

        <li><a id="modules-list-link" href="#full-list">Modules</a></li>


    </ul>
  </div>

  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content">
  <div class="content-outer">
    <div id="content" class="content-inner">

<h1>
<button class="settings display-settings">
  <i class="ri-settings-3-line"></i>
  <span class="sr-only">Settings</span>
</button>


    <a href="https://github.com/Fl4m3Ph03n1x/market_manager/blob/main/README.md#L1" title="View Source" class="view-source" rel="help">
      <i class="ri-code-s-slash-line" aria-hidden="true"></i>
      <span class="sr-only">View Source</span>
    </a>

  <span></span>
</h1>

<p align="center">    <a href="https://fl4m3ph03n1x.github.io/market_manager/">        <img src="images/logo.png" alt="Logo" width="400"/>    </a></p><p align="center">    <a href="https://github.com/Fl4m3Ph03n1x/market_manager/workflows/build/badge.svg?branch=master">        <img src="https://github.com/Fl4m3Ph03n1x/market_manager/workflows/build/badge.svg?branch=master" alt="Build Status"/>    </a>    <a href="https://coveralls.io/github/Fl4m3Ph03n1x/market_manager?branch=master">        <img src="https://coveralls.io/repos/github/Fl4m3Ph03n1x/market_manager/badge.svg?branch=master" alt="Coverage Status"/>    </a></p><h1>MarketManager</h1><p>Makes sell requests in batch to warframe market.
Used when you want to sell a lot of things or remove them from your list all at
once. Specially useful for syndicates because you don't have to buy everything
in advance and if you want to avoid the 100 items limit without being a Patreon,
which if you want to support the site, you should totally become.</p><h2 id="setup" class="section-heading">
  <a href="#setup" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a>
  Setup
</h2>
<p>Before using this application you need to get access to two things:</p><ol><li>x-rfctoken from warframe.market</li><li>a cookie from warframe.market</li></ol><p>To get both of them you can:</p><ol><li>Login with your account to warframe.market</li><li>Set you status to &quot;Invisible&quot;</li><li>Go to &quot;My profile&quot;</li><li>Click &quot;Place order&quot; button and fill in the form, BUT DO NOT PRESS &quot;POST&quot;</li><li>Using your favorite browser enter the developer's console (usually by pressing F12)</li><li>Go to the network section of the developer's console, clear it (if it has previous logs) and start monitoring</li><li>Press the &quot;POST&quot; button on the form</li><li>The console should have logged a POST request to the website</li><li>Inspect the request and look for &quot;Request headers&quot;</li><li>Copy the cookie and the token to somewhere</li></ol><p>Once you have the cookie and the token, you need to set the follow environment variables in your machine:</p><ul><li>MARKET_MANAGER_WM_COOKIE={cookie}</li><li>MARKET_MANAGER_WM_XCSRFTOKEN={xrfctoken}</li></ul><p>Where {cookie} and {token} are the cookie and the xrfctoken you got from the website previously.</p><h2 id="usage" class="section-heading">
  <a href="#usage" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a>
  Usage
</h2>
<p>Place the things you want to sell under a file called <code class="inline">products.json</code>. This file
should contain a list of objects, each one with an array of things to sell:</p><p>It only supports mods currently.</p><pre><code class="json">{
    &quot;red_veil&quot;: [
        {
            &quot;name&quot;: &quot;Gleaming Blight&quot;,
            &quot;id&quot;: &quot;54a74454e779892d5e5155d5&quot;,
            &quot;min_price&quot;: 14,
            &quot;default_price&quot;: 16
        },
        {
            &quot;name&quot;: &quot;Eroding Blight&quot;,
            &quot;id&quot;: &quot;54a74454e779892d5e5155a0&quot;,
            &quot;min_price&quot;: 14,
        &quot;default_price&quot;: 16
        }
    ],
    &quot;new_loka&quot;: [
        {
            &quot;name&quot;: &quot;Winds of purity&quot;,
            &quot;id&quot;: &quot;54a74455e779892d5e51569a&quot;,
            &quot;min_price&quot;: 14,
        &quot;default_price&quot;: 16
        },
        {
            &quot;name&quot;: &quot;Disarming purity&quot;,
            &quot;id&quot;: &quot;5911f11d97a0add8e9d5da4c&quot;,
            &quot;min_price&quot;: 14,
        &quot;default_price&quot;: 16
        }
    ]
}</code></pre><p>The format of each item is the following:</p><pre><code class="makeup elixir" translate="no"><span class="p" data-group-id="8497910257-1">{</span><span class="w">
  </span><span class="ss">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Disarming purity&quot;</span><span class="p">,</span><span class="w">       </span><span class="o">//</span><span class="n">name</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">item</span><span class="w">
  </span><span class="ss">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;5911f11d97a0add8e9d5da4c&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">//</span><span class="n">warframe</span><span class="o">.</span><span class="n">market</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="n">id</span><span class="w">
  </span><span class="ss">&quot;min_price&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">                  </span><span class="o">//</span><span class="n">prices</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">calculated</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">chosen</span><span class="w"> </span><span class="n">strategy</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">makes</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">overried</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">startegie</span><span class="err">&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">price</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">calculated</span><span class="w"> </span><span class="n">price</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">inferior</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="n">safety</span><span class="w"> </span><span class="n">net</span><span class="p">,</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">price</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">sell</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="k">for</span><span class="o">.</span><span class="w"> 
  </span><span class="s">&quot;default_price&quot;</span><span class="p">:</span><span class="mi">16</span><span class="p">,</span><span class="w">               </span><span class="o">//</span><span class="k">if</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">selling</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">strategy</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">unable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">calculte</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">price</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">item</span><span class="p">,</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">sell</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="k">for</span><span class="o">.</span><span class="w">
  </span><span class="ss">&quot;rank&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">                        </span><span class="o">//</span><span class="n">rank</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mod</span><span class="p">,</span><span class="w"> </span><span class="n">defaults</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">0</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mod</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">rank</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="s">&quot;n/a&quot;</span><span class="w"> </span><span class="n">instead</span><span class="w">
  </span><span class="ss">&quot;quantity&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">                     </span><span class="o">//</span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">items</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">sell</span><span class="p">,</span><span class="w"> </span><span class="n">defaults</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p" data-group-id="8497910257-1">}</span></code></pre><p>Once you have the <code class="inline">products.json</code> file set up, you can use the shell application:</p><pre><code class="makeup elixir" translate="no"><span class="o">.</span><span class="o">/</span><span class="n">market_manager</span><span class="w"> </span><span class="o">--</span><span class="n">action</span><span class="o">=</span><span class="n">activate</span><span class="w"> </span><span class="o">--</span><span class="n">syndicates</span><span class="o">=</span><span class="n">red_veil</span><span class="p">,</span><span class="n">new_loka</span><span class="w"> </span><span class="o">--</span><span class="n">strategy</span><span class="o">=</span><span class="n">top_three_average</span></code></pre><p>The name of the syndicates must be the same name on the <code class="inline">products.json</code> file.</p><p>For more information on how to use type:</p><pre><code class="makeup elixir" translate="no"><span class="o">.</span><span class="o">/</span><span class="n">market_manager</span><span class="w"> </span><span class="o">-</span><span class="n">h</span></code></pre><h2 id="development" class="section-heading">
  <a href="#development" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a>
  Development
</h2>
<p>This project has a dependency Erlang 22.1. While it doesn't require a lot of memory to run, it does require a lot of memory to compile, at least 4GB.</p><p>Some of the dependencies also require rebar3 to work. Sometimes it is problematic to install rebar3 so, this script for Linux does the job:</p><pre><code class="makeup elixir" translate="no"><span class="n">curl</span><span class="w"> </span><span class="o">-</span><span class="nc">O</span><span class="w"> </span><span class="n">https</span><span class="ss">://</span><span class="n">rebar3</span><span class="o">.</span><span class="n">s3</span><span class="o">.</span><span class="n">amazonaws</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">rebar3</span><span class="w"> </span><span class="o">-</span><span class="n">k</span><span class="w">
</span><span class="n">rm</span><span class="w"> </span><span class="o">-</span><span class="n">rf</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="o">.</span><span class="n">mix</span><span class="o">/</span><span class="n">rebar3</span><span class="w">
</span><span class="n">mv</span><span class="w"> </span><span class="n">rebar3</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="o">.</span><span class="n">mix</span><span class="o">/</span><span class="w">
</span><span class="n">mix</span><span class="w"> </span><span class="n">local</span><span class="o">.</span><span class="n">rebar</span><span class="w"> </span><span class="n">rebar3</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="o">.</span><span class="n">mix</span><span class="o">/</span><span class="n">rebar3</span><span class="w"> </span><span class="o">--</span><span class="n">force</span></code></pre><p>After the initial setup, the following commands are used to run the tests:</p><ul><li><a href="https://hexdocs.pm/mix/Mix.Tasks.Test.html"><code class="inline">mix test</code></a> run all tests</li><li><code class="inline">mix test.unit</code> runs only unit tests</li><li><code class="inline">mix test.integration</code> runs only integration tests</li><li><a href="https://hexdocs.pm/mix_test_watch/1.1.0/Mix.Tasks.Test.Watch.html"><code class="inline">mix test.watch</code></a> runs all tests continuously and re-runs them every time a file changes</li><li><code class="inline">mix test.watch.unit</code> runs unit tests continuously and re-runs them every time a file changes</li><li><code class="inline">mix test.watch.integration</code> runs integration tests continuously and re-runs them every time a file changes</li></ul><h2 id="architecture" class="section-heading">
  <a href="#architecture" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a>
  Architecture
</h2>
<p>MarketManager is divided into multiple small applications, ech one with one purpose in mind:</p><pre><code class="mermaid">graph TD;
    cli--&gt;manager;
    manager--&gt;auction_house;
    manager--&gt;store;</code></pre><p><code class="inline">cli</code> is a command line interface and currently it is the only interface with the manager.
<code class="inline">manager</code> is the core of the application, the entry point for all user requests. It talks to the rest of the layers.
<code class="inline">auction_house</code> is the app responsible for understanding and making requests to the given auction house. In this case, warframe market.
<code class="inline">store</code> is the persistency layer. It saves your data and remembers what is being selled or not.</p><p>For more information, feel free to read the README file of each application. </p>
<div class="bottom-actions">
  <div class="bottom-actions-item">

      <a href="api-reference.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
API Reference
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

  </div>
</div>

      <footer class="footer">

        <p>
          Built using
          <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.27.3) for the
          <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>
        </p>
      </footer>
    </div>
  </div>
</section>
</div>


  </body>
</html>
